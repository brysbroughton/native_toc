<!doctype html>
<html>
<head>
	<title>Test the native_toc generator</title>
	<script src="native_toc-compiled.js"></script>
</head>
<body>
	<!-- Placing the result of closure compiler in to utility at http://mrcoles.com/bookmarklet/ produced the following -->
	<button><a href="javascript:(function()%7Bvar%20%24jscomp%3D%7Bscope%3A%7B%7D%2CfindInternal%3Afunction(a%2Cc%2Cb)%7Ba%20instanceof%20String%26%26(a%3DString(a))%3Bfor(var%20d%3Da.length%2Ce%3D0%3Be%3Cd%3Be%2B%2B)%7Bvar%20g%3Da%5Be%5D%3Bif(c.call(b%2Cg%2Ce%2Ca))return%7Bi%3Ae%2Cv%3Ag%7D%7Dreturn%7Bi%3A-1%2Cv%3Avoid%200%7D%7D%7D%3B%24jscomp.defineProperty%3D'function'%3D%3Dtypeof%20Object.defineProperties%3FObject.defineProperty%3Afunction(a%2Cc%2Cb)%7Bif(b.get%7C%7Cb.set)throw%20new%20TypeError('ES3%20does%20not%20support%20getters%20and%20setters.')%3Ba!%3DArray.prototype%26%26a!%3DObject.prototype%26%26(a%5Bc%5D%3Db.value)%7D%3B%24jscomp.getGlobal%3Dfunction(a)%7Breturn'undefined'!%3Dtypeof%20window%26%26window%3D%3D%3Da%3Fa%3A'undefined'!%3Dtypeof%20global%26%26null!%3Dglobal%3Fglobal%3Aa%7D%3B%24jscomp.global%3D%24jscomp.getGlobal(this)%3B%24jscomp.polyfill%3Dfunction(a%2Cc%2Cb%2Cd)%7Bif(c)%7Bb%3D%24jscomp.global%3Ba%3Da.split('.')%3Bfor(d%3D0%3Bd%3Ca.length-1%3Bd%2B%2B)%7Bvar%20e%3Da%5Bd%5D%3Be%20in%20b%7C%7C(b%5Be%5D%3D%7B%7D)%3Bb%3Db%5Be%5D%7Da%3Da%5Ba.length-1%5D%3Bd%3Db%5Ba%5D%3Bc%3Dc(d)%3Bc!%3Dd%26%26null!%3Dc%26%26%24jscomp.defineProperty(b%2Ca%2C%7Bconfigurable%3A!0%2Cwritable%3A!0%2Cvalue%3Ac%7D)%7D%7D%3B%24jscomp.polyfill('Array.prototype.find'%2Cfunction(a)%7Breturn%20a%3Fa%3Afunction(a%2Cb)%7Breturn%20%24jscomp.findInternal(this%2Ca%2Cb).v%7D%7D%2C'es6-impl'%2C'es3')%3B(function()%7Bwindow.onload%3Dfunction()%7Bvar%20a%3Ddocument.createElement('ul')%2Cc%3Ddocument.getElementsByTagName('body')%5B0%5D%3Bc.insertBefore(a%2Cc.firstChild)%3Bvar%20b%3Dfunction(b)%7Ba.appendChild(b)%7D%3B%5B%5D.slice.call(document.getElementsByTagName('*')).filter(function(a)%7Breturn%20a.tagName.match(%2F%5Eh%5B0-9%5D%24%2Fi)%7D).forEach(function(d%2Ce%2Cc)%7Bvar%20h%3Ddocument.createElement('a')%3Bh.setAttribute('name'%2Cd.textContent.replace(%2F%5B%5Ea-z%5D%2Fgi%2C'_'))%3Bd.insertBefore(h%2Cd.firstChild)%3Bvar%20f%3Ddocument.createElement('li')%2Ck%3Ddocument.createElement('a')%3Bk.setAttribute('href'%2C'%23'%2Bh.getAttribute('name'))%3Bk.textContent%3Dd.textContent%3Bf.appendChild(k)%3Bb(f)%3Bif(e!%3D%3Dc.length-1)switch(d.tagName.toLowerCase().localeCompare(c%5Be%2B1%5D.tagName.toLowerCase()))%7Bcase%20-2%3Acase%20-1%3Avar%20l%3Ddocument.createElement('ul')%3Bf.appendChild(l)%3Bb%3Dfunction(a)%7Bl.appendChild(a)%7D%3Bl.setAttribute('data-level'%2Cc%5Be%2B1%5D.tagName.toLowerCase())%3Bf.parentElement.setAttribute('data-level'%2Cd.tagName.toLowerCase())%3Bbreak%3Bcase%200%3Ab%3Dfunction(a)%7Bf.parentElement.appendChild(a)%7D%3Bbreak%3Bcase%201%3Acase%202%3Avar%20g%3Dc%5Be%2B1%5D.tagName.toLowerCase()%2Cm%3D%5B%5D.slice.call(a.parentElement.getElementsByTagName('ul')).find(function(a)%7Breturn%200%3E%3Da.getAttribute('data-level').toLowerCase().localeCompare(g)%7D)%3Bb%3Dfunction(a)%7Bm.appendChild(a)%7D%7D%7D)%7D%7D)()%7D)()">Make TOC</a></button>
	<h2>eitsch two</h2>
	<h5>eitsch five</h5>
	<h2>eitsch two</h2>
	<h3>eitsch three</h3>
	<h4>eitsch four</h4>
	<h5>eitsch five</h5>
	<h6>eitsch six</h6>
	<h7>eitsch seven</h7>
	<h3>eitsch three</h3>
	<h2>eitsch two</h2>
	<h1>eitsch one</h1>
	<h1>eitsch one</h1>
</body>
</html>